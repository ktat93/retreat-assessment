generator client {
  provider     = "prisma-client"
  output       = "../src/generated/prisma"
  moduleFormat = "cjs"
}

datasource db {
  provider = "postgresql"
}

model Venue {
  id               String           @id @default(uuid()) @db.Uuid
  name             String
  city             String
  capacity         Int
  pricePerNight    Decimal          @db.Decimal(10, 2)
  createdAt        DateTime         @default(now())
  updatedAt        DateTime         @updatedAt
  bookingInquiries BookingInquiry[]

  @@index([city])
  @@index([capacity])
  @@index([pricePerNight])
  @@map("venues")
}

model BookingInquiry {
  id            String   @id @default(uuid()) @db.Uuid
  venueId       String   @db.Uuid
  companyName   String
  email         String
  startDate     DateTime @db.Date
  endDate       DateTime @db.Date
  attendeeCount Int
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt

  venue Venue @relation(fields: [venueId], references: [id], onDelete: Cascade, onUpdate: Cascade)

  @@index([email])
  @@index([venueId])
  @@index([startDate, endDate])
  @@index([createdAt])
  @@map("booking_inquiries")
}
